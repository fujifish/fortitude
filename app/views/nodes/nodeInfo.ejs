<% var info = node.info;
   var problems = node.problems || [];
%>
<div class="box-header bg-blue">
  <h3 class="box-title">Agent Details</h3>
  <div class="box-tools">
    <button class="btn btn-outline " name="btResetNode" data-toggle="tooltip" title="Reset All">
      <i class="fa fa-eraser"></i>
    </button>
    <button class="btn btn-outline " name="btUpdateNode" data-toggle="tooltip" title="Update Agent">
      <i class="fa fa-upload"></i>
    </button>
    <a class="btn btn-outline" title="SSH Terminal" id="btnLaunchSSH" data-toggle="tooltip" href="ssh://<%= info.ip %>">
      <i class="fa fa-terminal"></i>
    </a>
  </div>
</div>
<div class="box-body bg-gray-light">
    <% if (problems.length > 0) { %>
    <div class="alert alert-warning">
      <h4><i class="icon fa fa-warning"></i> Problems</h4>
      <ul class="list-unstyled">
      <% problems.forEach(function(problem) { %>
        <li><%= problem %></li>
      <% }); %>
      </ul>
    </div>
    <% } %>
  <dl data-id="<%= node.id %>">
    <dt>Id</dt>
    <dd><%= node.id %></dd>
    <dt>Last Seen</dt>
    <dd class="time-since"><%= node.timeSinceSync || '' %></dd>
    <dd><%= node.lastSync ? node.lastSync.replace('T', ', ').replace('Z', '') : ''%> UTC</dd>
    <dt>Agent Version</dt>
    <dd><%= info.agentVersion %></dd>
    <dt>Nodejs Version</dt>
    <dd><%= info.nodeVersion %></dd>
    <dt>Agent Running As</dt>
    <dd><%= info.runasName %> (<%= info.runas %>)</dd>
    <dt>Proxy</dt>
    <dd><%= info.proxy || 'unknown'%></dd>
    <dt>Hostname</dt>
    <dd><%= info.hostname %></dd>
    <dt>IP Address</dt>
    <dd><%= info.ip %> (<%= info.externalIP %>)</dd>
    <dt>Platform</dt>
    <dd><%= info.platform %></dd>
    <dt>Architecture</dt>
    <dd><%= info.arch %></dd>
    <dt>CPU's</dt>
    <dd><%= info.cpus %></dd>
    <dt>Agent PID</dt>
    <dd><%= info.pid %></dd>
    <dt>Agent Memory Usage</dt>
    <dd><%= info.memUsage ? (Math.floor(info.memUsage.heapUsed / 1024 / 1024)) : 0 %> MB</dd>
    <dd><%- memory %></dd>
    <dd><%- agentDiskSpace%></dd>
    <dd><%- moduleDiskSpace %></dd>
  </dl>
  <%
  var tags = info.tags || {};
  var keys = Object.keys(tags);
  keys.forEach(function(tag) {
  %>
  <small style="line-height: 24px;" class="label label-default"><%= tag %>:<%= tags[tag] %></small>
  <% }); %>
</div>

